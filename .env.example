# ============================================================
# PayGuard Environment Variables
# Copy this file to .env and fill in the values
# ============================================================

# --- MongoDB (required) ---
MONGO_URL=mongodb://payguard_admin:CHANGE_ME@localhost:27017
DB_NAME=payguard
# Used by docker-compose to initialise the MongoDB root user:
MONGO_ROOT_USER=payguard_admin
MONGO_ROOT_PASSWORD=CHANGE_ME

# --- CORS ---
# Comma-separated list of allowed origins for the backend API
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# --- AI / ML Models ---
# Path to the DIRE repository clone (for AI-image detection)
DIRE_HOME=/path/to/DIRE
DIRE_MODEL_PATH=/path/to/DIRE/data/exp/lsun_adm/ckpt/model_epoch_latest.pth

# --- Risk Engine Thresholds (optional) ---
# PAYGUARD_AI_THRESHOLD_HIGH=0.8
# PAYGUARD_AI_THRESHOLD_MEDIUM=0.5

# --- Scam Detection (optional) ---
# Comma-separated extra scam phrases to add to the built-in list
# PAYGUARD_SCAM_PHRASES=

# Comma-separated safe domains to whitelist
# PAYGUARD_SAFE_DOMAINS=

# --- Enterprise Dashboard ---
# Required to protect enterprise API routes. Generate with:
#   python -c "import secrets; print(secrets.token_urlsafe(32))"
ENTERPRISE_API_TOKEN=
ENTERPRISE_HOST=127.0.0.1
ENTERPRISE_PORT=8003
ENTERPRISE_DB_PATH=./enterprise/payguard_enterprise.db

# --- Gmail Integration (optional) ---
# GMAIL_CREDENTIALS_PATH=./enterprise/gmail_credentials.json
# GMAIL_TOKEN_PATH=./enterprise/gmail_token.json

# --- Push Notifications (optional) ---
# PUSH_CONFIG_PATH=./enterprise/push_config.json

# --- Redis (optional, for distributed rate limiting) ---
# When set, rate limiting uses Redis instead of in-memory dicts.
# Required in multi-replica deployments.
REDIS_URL=redis://:CHANGE_ME@localhost:6379/0
REDIS_PASSWORD=CHANGE_ME

# --- Logging ---
# LOG_LEVEL: DEBUG, INFO, WARNING, ERROR (default: INFO)
LOG_LEVEL=INFO
# LOG_FORMAT: text or json (default: text; use json in production)
LOG_FORMAT=text

# --- Nginx / TLS ---
# Directory containing ssl_cert.pem and ssl_key.pem
TLS_CERT_DIR=./nginx/certs
HTTPS_PORT=443
HTTP_PORT=80

# --- Docker Production ---
# Number of backend replicas (used by docker-compose.prod.yml)
BACKEND_REPLICAS=1
# Set to false to skip Playwright/Chromium install (~400MB savings)
INSTALL_PLAYWRIGHT=true

# --- Backup ---
# Number of days to keep MongoDB backups
BACKUP_KEEP_DAYS=7

# --- Monitoring ---
# Grafana admin password (default: admin)
GRAFANA_ADMIN_PASSWORD=CHANGE_ME
# Grafana public URL (for alerts)
GRAFANA_ROOT_URL=http://localhost:3000
# Grafana port (default: 3000)
GRAFANA_PORT=3000
